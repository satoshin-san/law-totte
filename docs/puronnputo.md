あなたはPythonとStreamlitのエキスパートです。
以下の仕様に基づき、e-Gov法令APIを活用した法令収集Webアプリ**「🐶 法令、とってきました。」**を作成してください。

## アプリの仕様と挙動

### 1. デザインと世界観
- **テーマ**: ユーザーを助ける忠実な「わんこ」のようなアシスタント。
- **配色**: 背景アイボリー(#FFFBF0)、メインボタンはオレンジ(#FF8C00)。
- **フッター**: `visitor-badge.laobi.icu` を使用したアクセスカウンター（オレンジ色）を配置すること。

### 2. データ取得ロジック (Hybrid API Strategy)
- **API v1 (全件取得)**: `lawlists/1` を使用。ジャンル「すべて」選択時に使用。XMLパースが必要。
- **API v2 (詳細検索)**: `api/2/laws` を使用。特定のジャンル選択時に使用。JSONで取得し、`limit=1000`を設定。「略称」や「読み仮名」を活用する。
- **法令本文**: `lawdata/{id}` (v1) からXMLを取得し、`xml.etree.ElementTree`を用いて全階層（条文、別表、画像）を解析する。

### 3. UIフロー (ショッピングカート方式)
1. **ジャンル選択**: e-Gov公式の50分類（憲法、行政組織、建築・住宅など）をドロップダウンで選択させる。
2. **検索と追加**:
   - `st.multiselect` を使用するが、選択されたアイテムは即座に`session_state`の「カートリスト」に追加し、検索ボックス自体はコールバック関数で空にする。
   - これにより、検索窓が埋まるのを防ぐ。
3. **リスト確認**:
   - カートに入った法令をカード形式で表示し、横に「削除」ボタンを配置する。
4. **便利機能**:
   - カートの中身をJSONとして保存・読込する機能を`st.expander`内に配置。

### 4. 出力処理
- ダウンロードボタン押下時、選択された全法令を処理。
- **ファイル名**: `法令名_YYYYMMDD.md` の形式で、**当日日付を自動付与**する。
- **ZIP化**: 生成されたMarkdownファイルと、抽出された画像フォルダをまとめてZIPで提供する。

### 5. 必須ライブラリ
- `streamlit`, `requests`, `pandas`

エラーハンドリングを徹底し、特にジャンル切り替え時にIDが見つからない場合などの例外処理を実装してください。